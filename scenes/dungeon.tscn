[gd_scene load_steps=12 format=4 uid="uid://bce8wc7cup30q"]

[ext_resource type="Script" path="res://scripts/game_level.gd" id="1_iihyv"]
[ext_resource type="TileSet" uid="uid://6wiaha6o6h1f" path="res://assets/dungeon.tres" id="1_qn3q8"]
[ext_resource type="PackedScene" uid="uid://db35cu0mg07kq" path="res://scenes/player/player.tscn" id="2_tjofn"]
[ext_resource type="PackedScene" uid="uid://dxa50iem4abk7" path="res://scenes/player/camera_level.tscn" id="3_3wneb"]
[ext_resource type="PackedScene" uid="uid://k1xxu8umomxm" path="res://scenes/misc/torch.tscn" id="3_5qh47"]
[ext_resource type="PackedScene" uid="uid://1mnu8bqlqsmr" path="res://scenes/misc/spike_trap.tscn" id="3_hr8m4"]
[ext_resource type="PackedScene" uid="uid://wndec48gqjb5" path="res://scenes/misc/shooting_trap.tscn" id="4_5onwa"]
[ext_resource type="PackedScene" uid="uid://jmjaeien3xul" path="res://scenes/misc/moving_floor.tscn" id="4_i7wyg"]
[ext_resource type="PackedScene" uid="uid://dm3xe17t7u5od" path="res://scenes/gui/game_over_screen.tscn" id="5_bap3t"]

[sub_resource type="Shader" id="Shader_vc4pf"]
resource_local_to_scene = true
code = "// Flashing Shader
// Overlays/Mixes between an animated color A and color B (alpha of each controls mix amount)
shader_type canvas_item;

// Color A: grey by default
uniform vec4 color_a:source_color = vec4(0.7, 0.7, 0.7, 1.0);

// Color B: White by default
uniform vec4 color_b:source_color = vec4(1.0, 1.0, 1.0, 1.0);

// if enabled, color_a and color_b alpha will affect transparency
uniform bool colors_affect_alpha = false;

// Whether to enable the animation or simply mix in color_a only
uniform float flash_amount:hint_range(0.0, 1.0, 0.1) = 1.0;

// if flash_amount is true, flash_speed controls the speed of the animation between color_a and color_b
uniform float flash_speed = 1.0;

// transparency, like modulate
uniform float transparency:hint_range(0.0, 1.0, 0.01) = 1.0;

// Intensity of the shader
uniform float intensity:hint_range(0.0, 1.0, 0.1) = 1.0;


float anim() {
	return (sin(TIME * flash_speed) + 1.0) / 2.0;
}

// returns a mix between color_a and color_b, based on TIME
// see the anim() function
vec4 get_shader_color() {
	if (flash_amount > 0.0) {
		float f = anim();
		return mix(color_a, color_b, f * flash_amount);
	}else {
		return color_a;
	}
}

void fragment() {
	// get input color and alpha from the texture
	vec4 in_color = texture(TEXTURE, UV);
	float in_alpha = in_color.a;

	// get the shader color (some mix between color_a and color_b)
	vec4 shader_rgba = get_shader_color();
	vec3 shader_color = shader_rgba.rgb;
	float shader_alpha = shader_rgba.a;

	// rgb color mixes between in_color and shader_color * by shader_alpha
	// this way, color_a can have a different \"intensity\" than color_b
	//
	// wrap in vec4 and plug in the in_alpha since we don't generally want to retain that from the texture
	vec4 out_color = vec4(mix(in_color.rgb, shader_color, shader_alpha), in_alpha);

	// if affect_alpha is true, we will modulate transparency by our color_a/b
	if (colors_affect_alpha) {
		out_color.a = in_alpha * shader_alpha;
	}

	out_color.a *= transparency;

	// finally, use mix to control intensity of the entire effect
	COLOR = mix(in_color, out_color, intensity);
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8wqxx"]
resource_local_to_scene = true
shader = SubResource("Shader_vc4pf")
shader_parameter/color_a = Color(0, 0, 0, 0.698039)
shader_parameter/color_b = Color(0.82, 0.451, 0, 0.545098)
shader_parameter/colors_affect_alpha = false
shader_parameter/flash_amount = 1.0
shader_parameter/flash_speed = 16.0
shader_parameter/transparency = 1.0
shader_parameter/intensity = 0.0

[node name="Dungeon" type="Node2D" node_paths=PackedStringArray("camera", "navigation_tilemap", "y_sort_layer")]
script = ExtResource("1_iihyv")
camera = NodePath("CameraLevel")
navigation_tilemap = NodePath("Map/Ground")
y_sort_layer = NodePath("Y-SortLayer")

[node name="Map" type="Node2D" parent="."]

[node name="Background" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAAAAAEAAwAPAAEAAAAAAAIAAwAPAAEAAAAAAAMAAwAPAAEAAAAAAAQAAwAPAAEAAAAAAAUAAwAPAAEAAAAAAAYAAwAPAAEAAAAAAAcAAwAPAAEAAAAAAAgAAwAPAAEAAAAAAAkAAwAPAAEAAAAAAAoAAwAPAAEAAAAAAAsAAwAPAAEAAAAAAAwAAwAPAAEAAAAAAA0AAwAPAAEAAAAAAA4AAwAPAAEAAAAAAA8AAwAPAAEAAAAAABAAAwAPAAEAAAAAABEAAwAPAAEAAAAAABIAAwAPAAEAAAAAABMAAwAPAAEAAAAAABQAAwAPAAEAAAAAABUAAwAPAAEAAAABAAAAAwAPAAEAAAABAAEAAwAPAAEAAAABAAIAAwAPAAEAAAABAAMAAwAPAAEAAAABAAQAAwAPAAEAAAABAAUAAwAPAAEAAAABAAYAAwAPAAEAAAABAAcAAwAPAAEAAAABAAgAAwAPAAEAAAABAAkAAwAPAAEAAAABAAoAAwAPAAEAAAABAAsAAwAPAAEAAAABAAwAAwAPAAEAAAABAA0AAwAPAAEAAAABAA4AAwAPAAEAAAABAA8AAwAPAAEAAAABABAAAwAPAAEAAAABABEAAwAPAAEAAAABABIAAwAPAAEAAAABABMAAwAPAAEAAAABABQAAwAPAAEAAAABABUAAwAPAAEAAAACAAAAAwAPAAEAAAACAAEAAwAPAAEAAAACAAIAAwAPAAEAAAACABMAAwAPAAEAAAACABQAAwAPAAEAAAACABUAAwAPAAEAAAADAAAAAwAPAAEAAAADAAEAAwAPAAEAAAADAAIAAwAPAAEAAAADABMAAwAPAAEAAAADABQAAwAPAAEAAAADABUAAwAPAAEAAAAEAAAAAwAPAAEAAAAEAAEAAwAPAAEAAAAEAAIAAwAPAAEAAAAEABMAAwAPAAEAAAAEABQAAwAPAAEAAAAEABUAAwAPAAEAAAAFAAAAAwAPAAEAAAAFAAEAAwAPAAEAAAAFAAIAAwAPAAEAAAAFABMAAwAPAAEAAAAFABQAAwAPAAEAAAAFABUAAwAPAAEAAAAGAAAAAwAPAAEAAAAGAAEAAwAPAAEAAAAGAAIAAwAPAAEAAAAGABMAAwAPAAEAAAAGABQAAwAPAAEAAAAGABUAAwAPAAEAAAAHAAAAAwAPAAEAAAAHAAEAAwAPAAEAAAAHAAIAAwAPAAEAAAAHABMAAwAPAAEAAAAHABQAAwAPAAEAAAAHABUAAwAPAAEAAAAIAAAAAwAPAAEAAAAIAAEAAwAPAAEAAAAIAAIAAwAPAAEAAAAIABMAAwAPAAEAAAAIABQAAwAPAAEAAAAIABUAAwAPAAEAAAAJAAAAAwAPAAEAAAAJAAEAAwAPAAEAAAAJAAIAAwAPAAEAAAAJABMAAwAPAAEAAAAJABQAAwAPAAEAAAAJABUAAwAPAAEAAAAKAAAAAwAPAAEAAAAKAAEAAwAPAAEAAAAKAAIAAwAPAAEAAAAKABMAAwAPAAEAAAAKABQAAwAPAAEAAAAKABUAAwAPAAEAAAALAAAAAwAPAAEAAAALAAEAAwAPAAEAAAALAAIAAwAPAAEAAAALABMAAwAPAAEAAAALABQAAwAPAAEAAAALABUAAwAPAAEAAAAMAAAAAwAPAAEAAAAMAAEAAwAPAAEAAAAMAAIAAwAPAAEAAAAMABMAAwAPAAEAAAAMABQAAwAPAAEAAAAMABUAAwAPAAEAAAANAAAAAwAPAAEAAAANAAEAAwAPAAEAAAANAAIAAwAPAAEAAAANABMAAwAPAAEAAAANABQAAwAPAAEAAAANABUAAwAPAAEAAAAOAAAAAwAPAAEAAAAOAAEAAwAPAAEAAAAOAAIAAwAPAAEAAAAOABMAAwAPAAEAAAAOABQAAwAPAAEAAAAOABUAAwAPAAEAAAAPAAAAAwAPAAEAAAAPAAEAAwAPAAEAAAAPAAIAAwAPAAEAAAAPABMAAwAPAAEAAAAPABQAAwAPAAEAAAAPABUAAwAPAAEAAAAQAAAAAwAPAAEAAAAQAAEAAwAPAAEAAAAQAAIAAwAPAAEAAAAQABMAAwAPAAEAAAAQABQAAwAPAAEAAAAQABUAAwAPAAEAAAARAAAAAwAPAAEAAAARAAEAAwAPAAEAAAARAAIAAwAPAAEAAAARABMAAwAPAAEAAAARABQAAwAPAAEAAAARABUAAwAPAAEAAAASAAAAAwAPAAEAAAASAAEAAwAPAAEAAAASAAIAAwAPAAEAAAASABMAAwAPAAEAAAASABQAAwAPAAEAAAASABUAAwAPAAEAAAATAAAAAwAPAAEAAAATAAEAAwAPAAEAAAATAAIAAwAPAAEAAAATABMAAwAPAAEAAAATABQAAwAPAAEAAAATABUAAwAPAAEAAAAUAAAAAwAPAAEAAAAUAAEAAwAPAAEAAAAUAAIAAwAPAAEAAAAUABMAAwAPAAEAAAAUABQAAwAPAAEAAAAUABUAAwAPAAEAAAAVAAAAAwAPAAEAAAAVAAEAAwAPAAEAAAAVAAIAAwAPAAEAAAAVABMAAwAPAAEAAAAVABQAAwAPAAEAAAAVABUAAwAPAAEAAAAWAAAAAwAPAAEAAAAWAAEAAwAPAAEAAAAWAAIAAwAPAAEAAAAWABMAAwAPAAEAAAAWABQAAwAPAAEAAAAWABUAAwAPAAEAAAAXAAAAAwAPAAEAAAAXAAEAAwAPAAEAAAAXAAIAAwAPAAEAAAAXABMAAwAPAAEAAAAXABQAAwAPAAEAAAAXABUAAwAPAAEAAAAYAAAAAwAPAAEAAAAYAAEAAwAPAAEAAAAYAAIAAwAPAAEAAAAYABMAAwAPAAEAAAAYABQAAwAPAAEAAAAYABUAAwAPAAEAAAAZAAAAAwAPAAEAAAAZAAEAAwAPAAEAAAAZAAIAAwAPAAEAAAAZABMAAwAPAAEAAAAZABQAAwAPAAEAAAAZABUAAwAPAAEAAAAaAAAAAwAPAAEAAAAaAAEAAwAPAAEAAAAaAAIAAwAPAAEAAAAaABMAAwAPAAEAAAAaABQAAwAPAAEAAAAaABUAAwAPAAEAAAAbAAAAAwAPAAEAAAAbAAEAAwAPAAEAAAAbAAIAAwAPAAEAAAAbABMAAwAPAAEAAAAbABQAAwAPAAEAAAAbABUAAwAPAAEAAAAcAAAAAwAPAAEAAAAcAAEAAwAPAAEAAAAcAAIAAwAPAAEAAAAcABMAAwAPAAEAAAAcABQAAwAPAAEAAAAcABUAAwAPAAEAAAAdAAAAAwAPAAEAAAAdAAEAAwAPAAEAAAAdAAIAAwAPAAEAAAAdABMAAwAPAAEAAAAdABQAAwAPAAEAAAAdABUAAwAPAAEAAAAeAAAAAwAPAAEAAAAeAAEAAwAPAAEAAAAeAAIAAwAPAAEAAAAeABMAAwAPAAEAAAAeABQAAwAPAAEAAAAeABUAAwAPAAEAAAAfAAAAAwAPAAEAAAAfAAEAAwAPAAEAAAAfAAIAAwAPAAEAAAAfABMAAwAPAAEAAAAfABQAAwAPAAEAAAAfABUAAwAPAAEAAAAgAAAAAwAPAAEAAAAgAAEAAwAPAAEAAAAgAAIAAwAPAAEAAAAgABMAAwAPAAEAAAAgABQAAwAPAAEAAAAgABUAAwAPAAEAAAAhAAAAAwAPAAEAAAAhAAEAAwAPAAEAAAAhAAIAAwAPAAEAAAAhABMAAwAPAAEAAAAhABQAAwAPAAEAAAAhABUAAwAPAAEAAAAiAAAAAwAPAAEAAAAiAAEAAwAPAAEAAAAiAAIAAwAPAAEAAAAiABMAAwAPAAEAAAAiABQAAwAPAAEAAAAiABUAAwAPAAEAAAAjAAAAAwAPAAEAAAAjAAEAAwAPAAEAAAAjAAIAAwAPAAEAAAAjABMAAwAPAAEAAAAjABQAAwAPAAEAAAAjABUAAwAPAAEAAAAkAAAAAwAPAAEAAAAkAAEAAwAPAAEAAAAkAAIAAwAPAAEAAAAkAAMAAwAPAAEAAAAkAAQAAwAPAAEAAAAkAAUAAwAPAAEAAAAkAAYAAwAPAAEAAAAkAAcAAwAPAAEAAAAkAAgAAwAPAAEAAAAkAAkAAwAPAAEAAAAkAAoAAwAPAAEAAAAkAAsAAwAPAAEAAAAkAAwAAwAPAAEAAAAkAA0AAwAPAAEAAAAkAA4AAwAPAAEAAAAkAA8AAwAPAAEAAAAkABAAAwAPAAEAAAAkABEAAwAPAAEAAAAkABIAAwAPAAEAAAAkABMAAwAPAAEAAAAkABQAAwAPAAEAAAAkABUAAwAPAAEAAAAlAAAAAwAPAAEAAAAlAAEAAwAPAAEAAAAlAAIAAwAPAAEAAAAlAAMAAwAPAAEAAAAlAAQAAwAPAAEAAAAlAAUAAwAPAAEAAAAlAAYAAwAPAAEAAAAlAAcAAwAPAAEAAAAlAAgAAwAPAAEAAAAlAAkAAwAPAAEAAAAlAAoAAwAPAAEAAAAlAAsAAwAPAAEAAAAlAAwAAwAPAAEAAAAlAA0AAwAPAAEAAAAlAA4AAwAPAAEAAAAlAA8AAwAPAAEAAAAlABAAAwAPAAEAAAAlABEAAwAPAAEAAAAlABIAAwAPAAEAAAAlABMAAwAPAAEAAAAlABQAAwAPAAEAAAAlABUAAwAPAAEAAAAAAAAAAwAPAAEAAAA=")
tile_set = ExtResource("1_qn3q8")

[node name="Ground" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAAjABIAAwABAAAAAAAjABEAAwABAAAAAAAjABAAAwABAAAAAAAjAA8AAwABAAAAAAAjAA4AAwABAAAAAAAjAA0AAwABAAAAAAAjAAwAAwABAAAAAAAjAAsAAwABAAAAAAAjAAoAAwABAAAAAAAjAAkAAwABAAAAAAAjAAgAAwABAAAAAAAjAAYAAwABAAAAAAAjAAUAAwABAAAAAAAjAAQAAwABAAAAAAAjAAMAAwABAAAAAAAiABIAAwABAAAAAAAiABEAAwABAAAAAAAiABAAAwABAAAAAAAiAA8AAwABAAAAAAAiAA4AAwABAAAAAAAiAA0AAwABAAAAAAAiAAwAAwABAAAAAAAiAAsAAwABAAAAAAAiAAoAAwABAAAAAAAiAAkAAwABAAAAAAAiAAgAAwABAAAAAAAiAAYAAwABAAAAAAAiAAUAAwABAAAAAAAiAAQAAwABAAAAAAAiAAMAAwABAAAAAAAhABIAAwABAAAAAAAhABEAAwABAAAAAAAhABAAAwABAAAAAAAhAA8AAwABAAAAAAAhAA4AAwABAAAAAAAhAA0AAwABAAAAAAAhAAwAAwABAAAAAAAhAAsAAwABAAAAAAAhAAoAAwABAAAAAAAhAAkAAwABAAAAAAAhAAgAAwABAAAAAAAhAAYAAwABAAAAAAAhAAUAAwABAAAAAAAhAAQAAwABAAAAAAAhAAMAAwABAAAAAAAgABIAAwABAAAAAAAgABEAAwABAAAAAAAgABAAAwABAAAAAAAgAA8AAwABAAAAAAAgAA4AAwABAAAAAAAgAA0AAwABAAAAAAAgAAwAAwABAAAAAAAgAAsAAwABAAAAAAAgAAoAAwABAAAAAAAgAAkAAwABAAAAAAAgAAgAAwABAAAAAAAgAAYAAwABAAAAAAAgAAUAAwABAAAAAAAgAAQAAwABAAAAAAAgAAMAAwABAAAAAAAfABIAAwABAAAAAAAfABEAAwABAAAAAAAfABAAAwABAAAAAAAfAA8AAwABAAAAAAAfAA4AAwABAAAAAAAfAA0AAwABAAAAAAAfAAwAAwABAAAAAAAfAAsAAwABAAAAAAAfAAoAAwABAAAAAAAfAAkAAwABAAAAAAAfAAgAAwABAAAAAAAfAAYAAwABAAAAAAAfAAUAAwABAAAAAAAfAAQAAwABAAAAAAAfAAMAAwABAAAAAAAeABIAAwABAAAAAAAeABEAAwABAAAAAAAeABAAAwABAAAAAAAeAA8AAwABAAAAAAAeAA4AAwABAAAAAAAeAA0AAwABAAAAAAAeAAwAAwABAAAAAAAeAAsAAwABAAAAAAAeAAoAAwABAAAAAAAeAAkAAwABAAAAAAAeAAgAAwABAAAAAAAeAAYAAwABAAAAAAAeAAUAAwABAAAAAAAeAAQAAwABAAAAAAAeAAMAAwABAAAAAAAdABIAAwABAAAAAAAdABEAAwABAAAAAAAdABAAAwABAAAAAAAdAA8AAwABAAAAAAAdAA4AAwABAAAAAAAdAA0AAwABAAAAAAAdAAwAAwABAAAAAAAdAAsAAwABAAAAAAAdAAoAAwABAAAAAAAdAAkAAwABAAAAAAAdAAgAAwABAAAAAAAdAAYAAwABAAAAAAAdAAUAAwABAAAAAAAdAAQAAwABAAAAAAAdAAMAAwABAAAAAAAcABIAAwABAAAAAAAcABEAAwABAAAAAAAcABAAAwABAAAAAAAcAA8AAwABAAAAAAAcAA4AAwABAAAAAAAcAA0AAwABAAAAAAAcAAwAAwABAAAAAAAcAAsAAwABAAAAAAAcAAoAAwABAAAAAAAcAAkAAwABAAAAAAAcAAgAAwABAAAAAAAcAAYAAwABAAAAAAAcAAUAAwABAAAAAAAcAAQAAwABAAAAAAAcAAMAAwABAAAAAAAbABIAAwABAAAAAAAbABEAAwABAAAAAAAbABAAAwABAAAAAAAbAA8AAwABAAAAAAAbAA4AAwABAAAAAAAbAA0AAwABAAAAAAAbAAwAAwABAAAAAAAbAAsAAwABAAAAAAAbAAoAAwABAAAAAAAbAAkAAwABAAAAAAAbAAgAAwABAAAAAAAbAAYAAwABAAAAAAAbAAUAAwABAAAAAAAbAAQAAwABAAAAAAAbAAMAAwABAAAAAAAaABIAAwABAAAAAAAaABEAAwABAAAAAAAaABAAAwABAAAAAAAaAA8AAwABAAAAAAAaAA4AAwABAAAAAAAaAA0AAwABAAAAAAAaAAwAAwABAAAAAAAaAAsAAwABAAAAAAAaAAoAAwABAAAAAAAaAAkAAwABAAAAAAAaAAgAAwABAAAAAAAaAAYAAwABAAAAAAAaAAUAAwABAAAAAAAaAAQAAwABAAAAAAAaAAMAAwABAAAAAAAZABIAAwABAAAAAAAZABEAAwABAAAAAAAZABAAAwABAAAAAAAZAA8AAwABAAAAAAAZAA4AAwABAAAAAAAZAA0AAwABAAAAAAAZAAwAAwABAAAAAAAZAAsAAwABAAAAAAAZAAoAAwABAAAAAAAZAAkAAwABAAAAAAAZAAgAAwABAAAAAAAZAAYAAwABAAAAAAAZAAUAAwABAAAAAAAZAAQAAwABAAAAAAAZAAMAAwABAAAAAAAYABIAAwABAAAAAAAYABEAAwABAAAAAAAYABAAAwABAAAAAAAYAA8AAwABAAAAAAAYAA4AAwABAAAAAAAYAAYAAwABAAAAAAAYAAUAAwABAAAAAAAYAAQAAwABAAAAAAAYAAMAAwABAAAAAAAXABEAAwABAAAAAAAXABAAAwABAAAAAAAXAA8AAwABAAAAAAAXAA4AAwABAAAAAAAXAAwAAwABAAAAAAAXAAsAAwABAAAAAAAXAAoAAwABAAAAAAAXAAkAAwABAAAAAAAXAAgAAwABAAAAAAAXAAcAAwABAAAAAAAXAAYAAwABAAAAAAAXAAUAAwABAAAAAAAXAAQAAwABAAAAAAAXAAMAAwABAAAAAAAWABAAAwABAAAAAAAWAA8AAwABAAAAAAAWAA4AAwABAAAAAAAWAAwAAwABAAAAAAAWAAsAAwABAAAAAAAWAAoAAwABAAAAAAAWAAkAAwABAAAAAAAWAAgAAwABAAAAAAAWAAcAAwABAAAAAAAWAAYAAwABAAAAAAAWAAUAAwABAAAAAAAWAAQAAwABAAAAAAAWAAMAAwABAAAAAAAVABAAAwABAAAAAAAVAA8AAwABAAAAAAAVAA4AAwABAAAAAAAVAAwAAwABAAAAAAAVAAsAAwABAAAAAAAVAAoAAwABAAAAAAAVAAkAAwABAAAAAAAVAAgAAwABAAAAAAAVAAcAAwABAAAAAAAVAAYAAwABAAAAAAAVAAUAAwABAAAAAAAVAAQAAwABAAAAAAAVAAMAAwABAAAAAAAUABAAAwABAAAAAAAUAA8AAwABAAAAAAAUAA4AAwABAAAAAAAUAAwAAwABAAAAAAAUAAsAAwABAAAAAAAUAAoAAwABAAAAAAAUAAkAAwABAAAAAAAUAAgAAwABAAAAAAAUAAcAAwABAAAAAAAUAAYAAwABAAAAAAAUAAUAAwABAAAAAAAUAAQAAwABAAAAAAAUAAMAAwABAAAAAAATABAAAwABAAAAAAATAA8AAwABAAAAAAATAA4AAwABAAAAAAATAAwAAwABAAAAAAATAAsAAwABAAAAAAATAAoAAwABAAAAAAATAAkAAwABAAAAAAATAAgAAwABAAAAAAATAAcAAwABAAAAAAATAAYAAwABAAAAAAATAAUAAwABAAAAAAATAAQAAwABAAAAAAATAAMAAwABAAAAAAASABAAAwABAAAAAAASAA8AAwABAAAAAAASAA4AAwABAAAAAAASAAwAAwABAAAAAAASAAsAAwABAAAAAAASAAoAAwABAAAAAAASAAkAAwABAAAAAAASAAgAAwABAAAAAAASAAcAAwABAAAAAAASAAYAAwABAAAAAAASAAUAAwABAAAAAAASAAQAAwABAAAAAAASAAMAAwABAAAAAAARABAAAwABAAAAAAARAA8AAwABAAAAAAARAA4AAwABAAAAAAARAAwAAwABAAAAAAARAAsAAwABAAAAAAARAAoAAwABAAAAAAARAAkAAwABAAAAAAARAAgAAwABAAAAAAARAAcAAwABAAAAAAARAAYAAwABAAAAAAARAAUAAwABAAAAAAARAAQAAwABAAAAAAARAAMAAwABAAAAAAAQABAAAwABAAAAAAAQAA8AAwABAAAAAAAQAA4AAwABAAAAAAAQAAwAAwABAAAAAAAQAAsAAwABAAAAAAAQAAoAAwABAAAAAAAQAAkAAwABAAAAAAAQAAgAAwABAAAAAAAQAAcAAwABAAAAAAAQAAYAAwABAAAAAAAQAAUAAwABAAAAAAAQAAQAAwABAAAAAAAQAAMAAwABAAAAAAAPABAAAwABAAAAAAAPAA8AAwABAAAAAAAPAA4AAwABAAAAAAAPAAwAAwABAAAAAAAPAAsAAwABAAAAAAAPAAoAAwABAAAAAAAPAAkAAwABAAAAAAAPAAgAAwABAAAAAAAPAAcAAwABAAAAAAAPAAYAAwABAAAAAAAPAAUAAwABAAAAAAAPAAQAAwABAAAAAAAPAAMAAwABAAAAAAAOABAAAwABAAAAAAAOAA8AAwABAAAAAAAOAA4AAwABAAAAAAAOAAwAAwABAAAAAAAOAAsAAwABAAAAAAAOAAoAAwABAAAAAAAOAAkAAwABAAAAAAAOAAgAAwABAAAAAAAOAAcAAwABAAAAAAAOAAYAAwABAAAAAAAOAAUAAwABAAAAAAAOAAQAAwABAAAAAAAOAAMAAwABAAAAAAANABAAAwABAAAAAAANAA8AAwABAAAAAAANAA4AAwABAAAAAAANAAwAAwABAAAAAAANAAsAAwABAAAAAAANAAoAAwABAAAAAAANAAkAAwABAAAAAAANAAgAAwABAAAAAAANAAcAAwABAAAAAAANAAYAAwABAAAAAAANAAUAAwABAAAAAAANAAQAAwABAAAAAAANAAMAAwABAAAAAAAMABAAAwABAAAAAAAMAA8AAwABAAAAAAAMAA4AAwABAAAAAAAMAAwAAwABAAAAAAAMAAsAAwABAAAAAAAMAAoAAwABAAAAAAAMAAkAAwABAAAAAAAMAAgAAwABAAAAAAAMAAcAAwABAAAAAAAMAAYAAwABAAAAAAAMAAUAAwABAAAAAAAMAAQAAwABAAAAAAAMAAMAAwABAAAAAAALABAAAwABAAAAAAALAA8AAwABAAAAAAALAA4AAwABAAAAAAALAAwAAwABAAAAAAALAAsAAwABAAAAAAALAAoAAwABAAAAAAALAAkAAwABAAAAAAALAAgAAwABAAAAAAALAAYAAwABAAAAAAALAAUAAwABAAAAAAALAAQAAwABAAAAAAALAAMAAwABAAAAAAAKABEAAwABAAAAAAAKABAAAwABAAAAAAAKAA8AAwABAAAAAAAKAA4AAwABAAAAAAAKAA0AAwABAAAAAAAKAAwAAwABAAAAAAAKAAsAAwABAAAAAAAKAAoAAwABAAAAAAAKAAkAAwABAAAAAAAKAAgAAwABAAAAAAAKAAcAAwABAAAAAAAKAAYAAwABAAAAAAAKAAUAAwABAAAAAAAKAAQAAwABAAAAAAAKAAMAAwABAAAAAAAJABIAAwABAAAAAAAJABEAAwABAAAAAAAJABAAAwABAAAAAAAJAA8AAwABAAAAAAAJAA4AAwABAAAAAAAJAA0AAwABAAAAAAAJAAwAAwABAAAAAAAJAAsAAwABAAAAAAAJAAoAAwABAAAAAAAJAAkAAwABAAAAAAAJAAgAAwABAAAAAAAJAAcAAwABAAAAAAAJAAYAAwABAAAAAAAJAAUAAwABAAAAAAAJAAQAAwABAAAAAAAJAAMAAwABAAAAAAAIABIAAwABAAAAAAAIABEAAwABAAAAAAAIABAAAwABAAAAAAAIAA8AAwABAAAAAAAIAA4AAwABAAAAAAAIAA0AAwABAAAAAAAIAAwAAwABAAAAAAAIAAsAAwABAAAAAAAIAAoAAwABAAAAAAAIAAkAAwABAAAAAAAIAAgAAwABAAAAAAAIAAcAAwABAAAAAAAIAAYAAwABAAAAAAAIAAUAAwABAAAAAAAIAAQAAwABAAAAAAAIAAMAAwABAAAAAAAHABIAAwABAAAAAAAHABEAAwABAAAAAAAHABAAAwABAAAAAAAHAA8AAwABAAAAAAAHAA4AAwABAAAAAAAHAA0AAwABAAAAAAAHAAwAAwABAAAAAAAHAAsAAwABAAAAAAAHAAoAAwABAAAAAAAHAAkAAwABAAAAAAAHAAgAAwABAAAAAAAHAAcAAwABAAAAAAAHAAYAAwABAAAAAAAHAAUAAwABAAAAAAAHAAQAAwABAAAAAAAHAAMAAwABAAAAAAAGABIAAwABAAAAAAAGABEAAwABAAAAAAAGABAAAwABAAAAAAAGAA8AAwABAAAAAAAGAA4AAwABAAAAAAAGAA0AAwABAAAAAAAGAAwAAwABAAAAAAAGAAsAAwABAAAAAAAGAAoAAwABAAAAAAAGAAkAAwABAAAAAAAGAAgAAwABAAAAAAAGAAcAAwABAAAAAAAGAAYAAwABAAAAAAAGAAUAAwABAAAAAAAGAAQAAwABAAAAAAAGAAMAAwABAAAAAAAFABIAAwABAAAAAAAFABEAAwABAAAAAAAFABAAAwABAAAAAAAFAA8AAwABAAAAAAAFAA4AAwABAAAAAAAFAA0AAwABAAAAAAAFAAwAAwABAAAAAAAFAAsAAwABAAAAAAAFAAoAAwABAAAAAAAFAAkAAwABAAAAAAAFAAgAAwABAAAAAAAFAAcAAwABAAAAAAAFAAYAAwABAAAAAAAFAAUAAwABAAAAAAAFAAQAAwABAAAAAAAFAAMAAwABAAAAAAAEABIAAwABAAAAAAAEABEAAwABAAAAAAAEABAAAwABAAAAAAAEAA8AAwABAAAAAAAEAA4AAwABAAAAAAAEAA0AAwABAAAAAAAEAAwAAwABAAAAAAAEAAsAAwABAAAAAAAEAAoAAwABAAAAAAAEAAkAAwABAAAAAAAEAAgAAwABAAAAAAAEAAYAAwABAAAAAAAEAAUAAwABAAAAAAAEAAQAAwABAAAAAAAEAAMAAwABAAAAAAADABIAAwABAAAAAAADABEAAwABAAAAAAADABAAAwABAAAAAAADAA8AAwABAAAAAAADAA4AAwABAAAAAAADAA0AAwABAAAAAAADAAwAAwABAAAAAAADAAsAAwABAAAAAAADAAoAAwABAAAAAAADAAkAAwABAAAAAAADAAgAAwABAAAAAAADAAcAAwABAAAAAAADAAYAAwABAAAAAAADAAUAAwABAAAAAAADAAQAAwABAAAAAAADAAMAAwABAAAAAAACABIAAwABAAAAAAACABEAAwABAAAAAAACABAAAwABAAAAAAACAA8AAwABAAAAAAACAA4AAwABAAAAAAACAA0AAwABAAAAAAACAAwAAwABAAAAAAACAAsAAwABAAAAAAACAAoAAwABAAAAAAACAAkAAwABAAAAAAACAAgAAwABAAAAAAACAAcAAwABAAAAAAACAAYAAwABAAAAAAACAAUAAwABAAAAAAACAAQAAwABAAAAAAACAAMAAwABAAAAAAABAAQAAwAAAAMAAAABAAMAAwAAAAMAAAADAAIAAwAKAAEAAAABAAUAAwAAAAMAAAABAAYAAwAKAAQAAAABAAcAAwAAAAMAAAABAAgAAwAAAAMAAAABAAkAAwAAAAMAAAABAAoAAwAAAAMAAAABAAsAAwAAAAMAAAABAAwAAwAKAAQAAAABAA0AAwAKAAQAAAABAA4AAwAAAAMAAAABAA8AAwAAAAMAAAABABAAAwAAAAMAAAABABEAAwAKAAQAAAABABIAAwAAAAMAAAADABMAAwACAAUAAAABABMAAwAAAAQAAAAEAAIAAwACAAEAAAAEABMAAwACAAUAAAAFAAIAAwACAAEAAAAFABMAAwAKAAEAAQAGAAIAAwACAAEAAAAGABMAAwAKAAEAAQAHAAIAAwACAAEAAAAHABMAAwAKAAEAAQAIAAIAAwACAAEAAAAIABMAAwACAAUAAAAJABMAAwACAAUAAAAKAAIAAwACAAEAAAAKABMAAwACAAUAAAALAAIAAwAKAAEAAAALABMAAwACAAUAAAAMAAIAAwAKAAEAAAAMABMAAwACAAUAAAANAAIAAwACAAEAAAANABMAAwACAAUAAAAOAAIAAwACAAEAAAAOABMAAwACAAUAAAAPAAIAAwACAAEAAAAPABMAAwAKAAEAAQAQAAIAAwACAAEAAAAQABMAAwAKAAEAAQARAAIAAwACAAEAAAARABMAAwAKAAEAAQASAAIAAwACAAEAAAASABMAAwAKAAEAAQATAAIAAwACAAEAAAATABMAAwAKAAEAAQAUAAIAAwACAAEAAAAUABMAAwAKAAEAAQAVAAIAAwACAAEAAAAVABMAAwACAAUAAAAWAAIAAwACAAEAAAAWABMAAwACAAUAAAAXAAIAAwACAAEAAAAXABMAAwACAAUAAAAYAAIAAwACAAEAAAAYABMAAwACAAUAAAAZAAIAAwAKAAEAAAAZABMAAwACAAUAAAAaAAIAAwAKAAEAAAAaABMAAwACAAUAAAAbAAIAAwAKAAEAAAAbABMAAwACAAUAAAAcAAIAAwACAAEAAAAcABMAAwACAAUAAAAdAAIAAwACAAEAAAAdABMAAwAKAAEAAQAeAAIAAwACAAEAAAAeABMAAwACAAUAAAAfAAIAAwACAAEAAAAfABMAAwACAAUAAAAgAAIAAwAKAAEAAAAgABMAAwACAAUAAAAhAAIAAwACAAEAAAAhABMAAwACAAUAAAAiAAIAAwACAAEAAAAiABMAAwACAAUAAAAjAAIAAwACAAEAAAAjABMAAwACAAUAAAAkAAMAAwAEAAMAAAAkAAQAAwAEAAMAAAAkAAIAAwADAAEAAAAkAAUAAwAMAAQAAAAkAAYAAwAEAAMAAAAkAAcAAwAMAAQAAAAkAAgAAwAMAAQAAAAkAAkAAwAEAAMAAAAkAAoAAwAEAAMAAAAkAAsAAwAEAAMAAAAkAAwAAwAMAAQAAAAkAA0AAwAEAAMAAAAkAA4AAwAMAAQAAAAkAA8AAwAEAAMAAAAkABAAAwAMAAQAAAAkABEAAwAMAAQAAAAkABMAAwADAAQAAAAJAAIAAwACAAEAAAABAAIAAwAAAAEAAAALABIAAwABAAAAAQAMABIAAwABAAAAAQANABIAAwABAAAAAQAOABIAAwABAAAAAQAPABIAAwABAAAAAQAQABIAAwABAAAAAQARABIAAwABAAAAAQASABIAAwABAAAAAQATABIAAwABAAAAAQAUABIAAwABAAAAAQAVABIAAwABAAAAAQAWABIAAwABAAAAAQAKABIAAwABAAAAAQALABEAAwABAAAAAQAMABEAAwABAAAAAQANABEAAwABAAAAAQAOABEAAwABAAAAAQAPABEAAwABAAAAAQAQABEAAwABAAAAAQARABEAAwABAAAAAQASABEAAwABAAAAAQATABEAAwABAAAAAQAUABEAAwABAAAAAQAVABEAAwABAAAAAQAWABEAAwABAAAAAQAXABIAAwABAAAAAQALAA0AAwABAAAAAQAMAA0AAwABAAAAAQANAA0AAwABAAAAAQAOAA0AAwABAAAAAQAPAA0AAwABAAAAAQAQAA0AAwABAAAAAQARAA0AAwABAAAAAQASAA0AAwABAAAAAQATAA0AAwABAAAAAQAUAA0AAwABAAAAAQAVAA0AAwABAAAAAQAWAA0AAwABAAAAAQAXAA0AAwABAAAAAQAYAA0AAwABAAAAAQAYAAwAAwABAAAAAQAYAAsAAwABAAAAAQAYAAoAAwABAAAAAQAYAAkAAwABAAAAAQAYAAgAAwABAAAAAQAYAAcAAwABAAAAAQAZAAcAAwABAAAAAQAaAAcAAwABAAAAAQAbAAcAAwABAAAAAQAcAAcAAwABAAAAAQAdAAcAAwABAAAAAQAeAAcAAwABAAAAAQAfAAcAAwABAAAAAQAgAAcAAwABAAAAAQAhAAcAAwABAAAAAQAiAAcAAwABAAAAAQAjAAcAAwABAAAAAQALAAcAAwABAAAAAQAEAAcAAwABAAAAAQA=")
tile_set = ExtResource("1_qn3q8")

[node name="Torch" parent="Map/Ground" instance=ExtResource("3_5qh47")]
position = Vector2(120, 40)

[node name="Torch3" parent="Map/Ground" instance=ExtResource("3_5qh47")]
position = Vector2(312, 40)

[node name="Torch4" parent="Map/Ground" instance=ExtResource("3_5qh47")]
position = Vector2(344, 40)

[node name="Torch5" parent="Map/Ground" instance=ExtResource("3_5qh47")]
position = Vector2(472, 40)

[node name="Torch6" parent="Map/Ground" instance=ExtResource("3_5qh47")]
position = Vector2(504, 40)

[node name="Torch2" parent="Map/Ground" instance=ExtResource("3_5qh47")]
position = Vector2(152, 40)

[node name="MovingFloor" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(184, 232)
type = 2

[node name="MovingFloor2" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(184, 248)
type = 2

[node name="MovingFloor3" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(184, 264)
type = 2

[node name="MovingFloor13" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(216, 232)
type = 2

[node name="MovingFloor14" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(216, 248)
type = 2

[node name="MovingFloor15" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(216, 264)
type = 2

[node name="MovingFloor16" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(232, 232)
type = 2

[node name="MovingFloor17" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(232, 248)
type = 2

[node name="MovingFloor18" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(232, 264)
type = 2

[node name="MovingFloor4" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(312, 232)

[node name="MovingFloor5" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(312, 248)

[node name="MovingFloor6" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(312, 264)

[node name="MovingFloor8" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(264, 264)
type = 1

[node name="MovingFloor9" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(264, 248)
type = 1

[node name="MovingFloor10" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(264, 232)
type = 1

[node name="MovingFloor23" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(360, 264)
type = 1

[node name="MovingFloor24" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(360, 248)
type = 1

[node name="MovingFloor25" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(360, 232)
type = 1

[node name="MovingFloor19" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(280, 264)
type = 1

[node name="MovingFloor20" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(280, 248)
type = 1

[node name="MovingFloor21" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(280, 232)
type = 1

[node name="MovingFloor11" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(328, 264)
type = 3

[node name="MovingFloor12" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(328, 248)
type = 3

[node name="MovingFloor22" parent="Map/Ground" instance=ExtResource("4_i7wyg")]
position = Vector2(328, 232)
type = 3

[node name="Spikes" type="Node2D" parent="Map"]

[node name="SpikeTrap" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(200, 232)

[node name="SpikeTrap2" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(248, 232)

[node name="SpikeTrap3" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(296, 232)

[node name="SpikeTrap4" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(344, 232)

[node name="SpikeTrap5" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(200, 248)

[node name="SpikeTrap6" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(248, 248)

[node name="SpikeTrap7" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(296, 248)

[node name="SpikeTrap8" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(344, 248)

[node name="SpikeTrap9" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(200, 264)

[node name="SpikeTrap10" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(248, 264)

[node name="SpikeTrap11" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(296, 264)

[node name="SpikeTrap12" parent="Map/Spikes" instance=ExtResource("3_hr8m4")]
position = Vector2(344, 264)

[node name="CameraLevel" parent="." instance=ExtResource("3_3wneb")]
process_mode = 1
position = Vector2(141, 93)
limit_left = 0
limit_top = 0
limit_right = 608
limit_bottom = 352
editor_draw_drag_margin = true

[node name="Y-SortLayer" type="Node2D" parent="."]
process_mode = 1
y_sort_enabled = true

[node name="Objects" type="TileMapLayer" parent="Y-SortLayer"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAIAAIAAwAGAAEAAAABAAkAAwAFAAMAAAAkAAoAAwAIAAMAAAAeAAIAAwAGAAEAAAAUAAIAAwAGAAEAAAAMAA0AAwAAAAoAAAAOAA0AAwAAAAoAAAAPAA0AAwAAAAoAAAARAA0AAwAAAAoAAAASAA0AAwAAAAoAAAAUAA0AAwAAAAoAAAAVAA0AAwAAAAoAAAAWAA0AAwAAAAoAAAAMABEAAwAAAAoAAAANABEAAwAAAAoAAAAPABEAAwAAAAoAAAAQABEAAwAAAAoAAAASABEAAwAAAAoAAAATABEAAwAAAAoAAAAVABEAAwAAAAoAAAAWABEAAwAAAAoAAAALAA0AAwAAAAoAAAALABEAAwAAAAoAAAAKABIAAwAAAAoAAAAXABIAAwAAAAoAAAAXAA0AAwAAAAoAAAAYAAwAAwAAAAoAAAAYAAsAAwAAAAoAAAAYAAoAAwAAAAoAAAAYAAkAAwAAAAoAAAAYAAgAAwAAAAoAAAAYAAcAAwAAAAoAAAAZAAcAAwAAAAoAAAAaAAcAAwAAAAoAAAAbAAcAAwAAAAoAAAAcAAcAAwAAAAoAAAAdAAcAAwAAAAoAAAAeAAcAAwAAAAoAAAAfAAcAAwAAAAoAAAAgAAcAAwAAAAoAAAAhAAcAAwAAAAoAAAAiAAcAAwAAAAoAAAAjAAcAAwAAAAoAAAAYAA0AAwAAAAoAAAA=")
tile_set = ExtResource("1_qn3q8")

[node name="ShootingTrap" parent="Y-SortLayer" instance=ExtResource("4_5onwa")]
position = Vector2(72, 120)
type = 2

[node name="ShootingTrap2" parent="Y-SortLayer" instance=ExtResource("4_5onwa")]
position = Vector2(184, 120)
type = 1

[node name="ShootingTrap3" parent="Y-SortLayer" instance=ExtResource("4_5onwa")]
position = Vector2(216, 216)

[node name="ShootingTrap7" parent="Y-SortLayer" instance=ExtResource("4_5onwa")]
position = Vector2(264, 216)

[node name="ShootingTrap8" parent="Y-SortLayer" instance=ExtResource("4_5onwa")]
position = Vector2(312, 216)

[node name="ShootingTrap4" parent="Y-SortLayer" instance=ExtResource("4_5onwa")]
position = Vector2(232, 280)
type = 3

[node name="ShootingTrap5" parent="Y-SortLayer" instance=ExtResource("4_5onwa")]
position = Vector2(280, 280)
type = 3

[node name="ShootingTrap6" parent="Y-SortLayer" instance=ExtResource("4_5onwa")]
position = Vector2(328, 280)
type = 3

[node name="Player" parent="Y-SortLayer" instance=ExtResource("2_tjofn")]
y_sort_enabled = true
material = SubResource("ShaderMaterial_8wqxx")
position = Vector2(141, 93)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Y-SortLayer/Player"]
remote_path = NodePath("../../../CameraLevel")

[node name="GameOverScreen" parent="." instance=ExtResource("5_bap3t")]
process_mode = 2
visible = false
